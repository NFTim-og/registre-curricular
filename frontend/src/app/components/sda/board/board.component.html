<p></p>
<div class="subjects">
  <button 
    *ngFor="let subject of subjects" 
    class="subject-button"
    (click)="toggleSubject(subject)">
    {{ subject }}
  </button>
</div>

<div *ngIf="selectedSubject" class="options-section">
    <h3>Options for {{ selectedSubject }}</h3>
    <button class="competences-button" (click)="showCompetences()">Competences</button>
    <button class="sabers-button" (click)="showSabers()">Sabers</button>
</div>

<div *ngFor="let competence of competencesData">
  <div class="form-check">
    <input
      type="checkbox"
      id="competence-{{competence.id}}"
      class="form-check-input"
      [checked]="competence.selected"
      [disabled]="true" 
    />
    <label
      class="form-check-label"
      (click)="toggleCompetence(competence.id)"  
    >
      {{ competence.competencia }}
    </label>
  </div>

  <ul *ngIf="areCriterisVisible(competence)" class="criteris-list">
    <li *ngFor="let criteri of competence.criteris">
      <div class="form-check" *ngIf="isCriteriVisible(criteri)">
        <input
          type="checkbox"
          id="criteri-{{competence.id}}-{{criteri.id}}"
          class="form-check-input"
          [(ngModel)]="criteri.selected"
          [disabled]="false" 
          (change)="onCriteriSelectionChange(competence.id, criteri.id)"
        />
        <label class="form-check-label" for="criteri-{{competence.id}}-{{criteri.id}}">
          {{ criteri.id }} - {{ criteri.description }}
        </label>
      </div>
    </li>
  </ul>
</div>


<div *ngIf="showSabersSection" class="sabers-section">
  <h4>Sabers</h4>
  <ul>
    <li *ngFor="let saber of sabersData" class="sabers-item">
      {{ saber.id }} - {{ saber.saber }}
      <ul class="sabers-list">
        <li *ngFor="let sabers of saber.sabers" class="saber-item">
          {{ sabers.id }} - {{ sabers.description }}
          
        </li>
      </ul>
    </li>
  </ul>
</div>
